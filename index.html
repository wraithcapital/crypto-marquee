<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Crypto Marquee (CoinGecko)</title>
  <style>
    body {
      background: #000000;
      color: #eee;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    .marquee-wrap {
      width: 100%;
      background: #000000;
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .marquee {
      display: inline-block;
      padding-left: 100%;
      animation: scroll-left 35s linear infinite;
    }

    @keyframes scroll-left {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    .token {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-right: 30px;
      font-size: 14px;
      background: rgba(255,255,255,0.05);
      padding: 4px 10px;
      border-radius: 16px;
    }

    .token img {
      width: 20px;
      height: 20px;
      border-radius: 50%;
    }

    .price {
      font-weight: bold;
      color: #4cafef;
    }
  </style>
</head>
<body>
  <div class="marquee-wrap">
    <div id="marquee" class="marquee">Đang tải giá...</div>
  </div>

  <script>
    async function loadPrices() {
      const ids = [
        "solana",                                                                 
        "jupiter-exchange-solana",                                                                                                                      
        "jupiter-perpetuals-liquidity-provider-token",                                   
        "jupiter-staked-sol",                                
        "uranus-4",                                                                  
      ];
      const url = `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${ids.join(",")}`;

          try {
      const res = await fetch(url);
      const data = await res.json();

      const marquee = document.getElementById("marquee");
      marquee.innerHTML = "";

      if (!data.length) {
        marquee.innerHTML = "<span>Lỗi tải dữ liệu...</span>";
        return;
      }

      data.forEach(token => {
        const span = document.createElement("span");
        span.className = "token";

        // Chọn màu: xanh nếu tăng, đỏ nếu giảm
        const priceChange = token.price_change_percentage_24h;
        let color = "#ccc"; // neutral fallback
        if (priceChange > 0) {
          color = "#00ff7f"; // xanh lá
        } else if (priceChange < 0) {
          color = "#ff4d4f"; // đỏ
        }

        span.innerHTML = `
          <img src="${token.image}" alt="${token.symbol}">
          <span>${token.symbol.toUpperCase()}</span>
          <span class="price" style="color:${color}">
            $${token.current_price.toLocaleString()}
          </span>
        `;
        marquee.appendChild(span);
      });
    } catch (err) {
      document.getElementById("marquee").innerText = "Lỗi tải giá...";
      console.error(err);
    }
  }

  loadPrices();
  setInterval(loadPrices, 60000); // cập nhật mỗi phút
</script>



